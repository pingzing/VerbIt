@page "/login"
@inject INetworkService _networkService;
@inject NavigationManager _navigationManager;
@inject ILocalStorageService _localStorageService;

<h3>Login</h3>

<label for="usernameInput">Username</label>
<input id="usernameInput" @bind="loginRequest.Username" type="text"/>

<label for="passwordInput">Password</label>
<input id="passwordInput" @bind="loginRequest.Password" type="password"/>

<button type="button" @onclick="CallLogin">Login</button>

@code {
    private LoginRequest loginRequest = new LoginRequest();

    private async Task CallLogin()
    {
        string message = await _networkService.Login(loginRequest, CancellationToken.None);
        if (message == "yay")
        {
            await _localStorageService.SetItemAsync("authenticated", true);
            // navigate to useful place
        }
    }
}