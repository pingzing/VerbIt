@page "/dashboard/tests/create"

<h3 class="mt-2 text-3xl ml-5">Create New Test</h3>

<section id="controls" class="flex gap-2 m-5">
    <button class="btn-main" disabled="@IsSaving" @onclick="AddRowClicked">Add row</button>
    <button class="btn-main-action ml-auto" dislabed="@IsSaving" @onclick="SaveListClicked">Save list</button>
</section>

<section id="masterListSelector" class="@($"flex flex-col px-2 {(!IsListPickerVisible ? "hidden" : "")}")">
    <h4 class="mt-2 text-2xl ml-5">First, select Master List as a base</h4>
    <table class="w-full">
        <thead>
            <tr>
                <th class="font-bold text-left" scope="col">List Name</th>
                <th class="font-bold" scope="col">Number of Verbs</th>
                <th class="font-bold" scope="col">Created</th>
            </tr>
        </thead>
        <tbody>
            if (SavedMasterLists != null)
            {
                @foreach (var savedMasterList in SavedMasterLists)
                {
                    SavedMasterList localList = savedMasterList;
                    <tr>
                        <td class="text-left">
                            <a @onclick="() => MasterListClicked(localList)">@localList.ListName</a>
                        </td>
                    </tr>
                }
            }
        </tbody>
    </table>
</section>

<section id="testRowTable" class="flex flex-col px-2">
    <table class="w-full">
        <caption>
            <input class="@(TestNameFieldClass)"
                type="text"
                disabled="@IsSaving"
                placeholder="New Test Name"
                @bind-value="@(TestName)"
                @oninput="OnTestNameInput" />
        </caption>
    </table>
</section>

